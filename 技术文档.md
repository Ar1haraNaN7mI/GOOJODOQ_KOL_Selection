# TikTokè¾¾äººåŒ¹é…ç³»ç»Ÿ - æŠ€æœ¯æ–‡æ¡£

## ğŸ”§ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿç»„ä»¶
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   Flask API     â”‚    â”‚   æ•°æ®å¼•æ“      â”‚
â”‚   index.html    â”‚â—„â”€â”€â–ºâ”‚   app.py        â”‚â—„â”€â”€â–ºâ”‚real_data_matcherâ”‚
â”‚   styles.css    â”‚    â”‚   (523è¡Œ)       â”‚    â”‚   (457è¡Œ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æ•°æ®æº        â”‚
                       â”‚ 152,404è¾¾äºº     â”‚
                       â”‚ 8,619äº§å“       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ
- **åç«¯**: Python 3.8+ + Flask + pandas + scikit-learn
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript (åŸç”Ÿ)
- **æ•°æ®**: Excel + CSV å¤„ç†
- **AI**: TF-IDFæ–‡æœ¬å‘é‡åŒ– + ä½™å¼¦ç›¸ä¼¼åº¦

## ğŸ“Š æ•°æ®ç»“æ„

### è¾¾äººæ•°æ®å­—æ®µ (23ä¸ªå­—æ®µ)
```python
creator_fields = [
    'Creator_username',           # è¾¾äººç”¨æˆ·å
    'Affiliate_GMV',             # è”ç›ŸGMV (æ ¸å¿ƒæŒ‡æ ‡)
    'Affiliate_followers',       # ç²‰ä¸æ•°
    'Est_commission',            # é¢„ä¼°ä½£é‡‘
    'Avg_order_value',          # å¹³å‡è®¢å•ä»·å€¼
    'CTR',                      # ç‚¹å‡»è½¬åŒ–ç‡
    # ... å…¶ä»–18ä¸ªå­—æ®µ
]
```

### äº§å“æ•°æ®å­—æ®µ (53ä¸ªå­—æ®µ)
```python
product_fields = [
    'Creator_username',          # å…³è”è¾¾äºº
    'å•†å“ç±»åˆ«',                  # æƒé‡0.6
    'å•†å“ä»‹ç»',                  # æƒé‡0.8
    'åŠŸèƒ½ç‰¹æ€§',                  # æƒé‡1.0 (æœ€é‡è¦)
    'Affiliate_GMV',            # å†å²GMVæ•°æ®
    # ... å…¶ä»–48ä¸ªå­—æ®µ
]
```

## ğŸ§  æ ¸å¿ƒç®—æ³•

### 1. äº§å“åŒ¹é…ç®—æ³•
```python
def weighted_product_matching(query, products):
    # å¤šå­—æ®µTF-IDFå‘é‡åŒ–
    feature_vectors = tfidf_vectorize(products['åŠŸèƒ½ç‰¹æ€§'])  # æƒé‡1.0
    intro_vectors = tfidf_vectorize(products['å•†å“ä»‹ç»'])    # æƒé‡0.8
    category_vectors = tfidf_vectorize(products['å•†å“ç±»åˆ«'])  # æƒé‡0.6
    
    # è®¡ç®—ç›¸ä¼¼åº¦
    feature_sim = cosine_similarity(query_vector, feature_vectors)
    intro_sim = cosine_similarity(query_vector, intro_vectors)
    category_sim = cosine_similarity(query_vector, category_vectors)
    
    # åŠ æƒå¹³å‡
    weighted_score = (
        feature_sim * 1.0 + 
        intro_sim * 0.8 + 
        category_sim * 0.6
    ) / 2.4
    
    return weighted_score
```

### 2. æ¿€è¿›å·®å¼‚åŒ–å®šä»·
```python
def calculate_aggressive_pricing(followers):
    if followers <= 10000:
        base_cost = followers * 0.025
    elif followers <= 50000:
        base_cost = 250 + (followers - 10000) * 0.055
    elif followers <= 100000:
        base_cost = 2450 + (followers - 50000) * 0.075
    elif followers <= 300000:
        base_cost = 6200 + (followers - 100000) * 0.095
    elif followers <= 1000000:
        base_cost = 25200 + (followers - 300000) * 0.06
    else:
        base_cost = 67200 + (followers - 1000000) * 0.03
    
    # å¤šå› ç´ è°ƒæ•´
    multiplier = (
        gmv_factor * 0.40 +
        commission_factor * 0.30 +
        engagement_factor * 0.20 +
        aov_factor * 0.10
    )
    
    # åŒä¸Šé™æ§åˆ¶
    estimated_cost = base_cost * multiplier
    estimated_cost = min(estimated_cost, followers * 0.15)  # 15%ä¸Šé™
    estimated_cost = min(estimated_cost, (followers/1000) * 200)  # 200å…ƒ/åƒç²‰ä¸Šé™
    
    return estimated_cost
```

### 3. åŠ¨æ€æƒé‡æ’åº
```python
def dynamic_weighted_ranking(creators, has_product_match):
    if has_product_match:
        # äº§å“åŒ¹é…ä¼˜å…ˆæ¨¡å¼
        score = (
            product_match_score * 0.50 +
            gmv_normalized * 0.25 +
            commission_normalized * 0.15 +
            engagement_normalized * 0.10
        )
    else:
        # çº¯æ€§èƒ½æ¨¡å¼
        score = (
            gmv_normalized * 0.40 +
            commission_normalized * 0.30 +
            engagement_normalized * 0.20 +
            aov_normalized * 0.10
        )
    
    return sorted(creators, key=lambda x: x['score'], reverse=True)
```

## ğŸŒ APIæ¥å£è§„èŒƒ

### æ¨èæ¥å£
```http
POST /api/recommend
Content-Type: application/json

Request:
{
    "product_description": "string",      // å¿…å¡«ï¼šäº§å“æè¿°
    "budget": number,                    // å¯é€‰ï¼šé¢„ç®—ä¸Šé™
    "top_k": number,                     // å¯é€‰ï¼šè¿”å›æ•°é‡(é»˜è®¤10)
    "min_gmv": number,                   // å¯é€‰ï¼šæœ€ä½GMVè¦æ±‚
    "min_followers": number,             // å¯é€‰ï¼šæœ€ä½ç²‰ä¸æ•°
    "max_followers": number              // å¯é€‰ï¼šæœ€é«˜ç²‰ä¸æ•°
}

Response:
{
    "success": boolean,
    "recommendations": [
        {
            "rank": number,
            "creator_username": "string",
            "performance": {
                "gmv": number,
                "estimated_gmv_7pct": number,
                "commission": number
            },
            "cost": {
                "estimated_cost": number,
                "cost_per_thousand_followers": number
            },
            "product_matching": {
                "match_score": number,      // 0-1ä¹‹é—´
                "combined_score": number    // ç»¼åˆå¾—åˆ†
            }
        }
    ],
    "statistics": {
        "total_cost": number,
        "budget_utilization": "string",
        "cost_calculation_method": "string"
    },
    "processing_time": number
}
```

### é”™è¯¯å“åº”
```json
{
    "success": false,
    "error": "é”™è¯¯æè¿°",
    "error_code": "ERROR_TYPE"
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®å¤„ç†ä¼˜åŒ–
- **å†…å­˜ç®¡ç†**: ä½¿ç”¨pandasåˆ†å—è¯»å–å¤§æ–‡ä»¶
- **å‘é‡ç¼“å­˜**: TF-IDFå‘é‡ä¸€æ¬¡è®¡ç®—ï¼Œå†…å­˜ç¼“å­˜
- **æ•°å€¼è½¬æ¢**: éæ•°å€¼å­—ç¬¦é¢„å¤„ç†ï¼Œç¼ºå¤±å€¼å¡«å……

### æŸ¥è¯¢ä¼˜åŒ–
- **é¢„è¿‡æ»¤**: æ ¹æ®æ¡ä»¶æå‰ç­›é€‰æ•°æ®é›†
- **å¹¶è¡Œè®¡ç®—**: ç›¸ä¼¼åº¦è®¡ç®—ä½¿ç”¨å‘é‡åŒ–æ“ä½œ
- **ç»“æœç¼“å­˜**: åŠ¨æ€ç¼“å­˜çƒ­é—¨æŸ¥è¯¢ç»“æœ

### ç³»ç»Ÿç›‘æ§
```python
# æ€§èƒ½æŒ‡æ ‡
startup_time = 45-60ç§’          # æ•°æ®åŠ è½½æ—¶é—´
query_response = 0.3-0.6ç§’      # æŸ¥è¯¢å“åº”æ—¶é—´
memory_usage = ~800MB           # å†…å­˜ä½¿ç”¨é‡
concurrent_users = 10-50        # å¹¶å‘æ”¯æŒ
```

## ğŸ” é…ç½®å‚æ•°

### ç³»ç»Ÿé…ç½®
```python
# app.py é…ç½®
FLASK_HOST = '0.0.0.0'
FLASK_PORT = 5000
DEBUG_MODE = False

# æ•°æ®æºé…ç½®
CREATOR_DATA_PATH = 'Match_ProductCreator-main/Creator_List_Viet.xlsx'
PRODUCT_DATA_PATH = 'Match_ProductCreator-main/Product_Creator_OCRAll_Viet0530.xlsx'

# ç®—æ³•å‚æ•°
PRODUCT_WEIGHTS = {
    'åŠŸèƒ½ç‰¹æ€§': 1.0,
    'å•†å“ä»‹ç»': 0.8,
    'å•†å“ç±»åˆ«': 0.6
}

# ä»·æ ¼ç®—æ³•å‚æ•°
PRICING_TIERS = [
    (10000, 0.025),
    (50000, 250, 0.055),
    (100000, 2450, 0.075),
    (300000, 6200, 0.095),
    (1000000, 25200, 0.06),
    (float('inf'), 67200, 0.03)
]

# ä¸Šé™æ§åˆ¶
MAX_COST_PER_THOUSAND = 200     # æ¯åƒç²‰ä¸Šé™
MAX_COST_PERCENTAGE = 0.15      # æ€»ä»·ä¸Šé™æ¯”ä¾‹
```

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒè¦æ±‚
```bash
# Pythonç‰ˆæœ¬
python >= 3.8

# ç³»ç»Ÿè¦æ±‚
å†…å­˜: >= 2GB (æ¨è4GB+)
å­˜å‚¨: >= 1GB
æ“ä½œç³»ç»Ÿ: Windows 10/11, macOS, Linux
```

### ä¾èµ–å®‰è£…
```bash
pip install flask==2.3.3
pip install flask-cors==4.0.0
pip install pandas==2.0.3
pip install numpy==1.24.3
pip install scikit-learn==1.3.0
pip install openpyxl==3.1.2
```

### å¯åŠ¨å‘½ä»¤
```bash
# å¼€å‘ç¯å¢ƒ
python app.py

# ç”Ÿäº§ç¯å¢ƒ (æ¨èä½¿ç”¨gunicorn)
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç ç»“æ„
```
app.py                      # Flaskä¸»åº”ç”¨
â”œâ”€â”€ åˆå§‹åŒ–ç³»ç»Ÿ               # æ•°æ®åŠ è½½
â”œâ”€â”€ è´¹ç”¨è®¡ç®—ç®—æ³•             # calculate_estimated_cost()
â”œâ”€â”€ äº§å“æ¡ä»¶è§£æ             # parse_product_to_filters()
â”œâ”€â”€ è·¯ç”±å®šä¹‰                # API endpoints
â””â”€â”€ é”™è¯¯å¤„ç†                # exception handlers

real_data_matcher.py        # æ•°æ®åŒ¹é…å¼•æ“
â”œâ”€â”€ æ•°æ®åŠ è½½ç±»               # RealDataMatcher
â”œâ”€â”€ äº§å“å‘é‡åŒ–               # build_product_vectors()
â”œâ”€â”€ ç­›é€‰ç®—æ³•                # filter_creators()
â””â”€â”€ æ’åºç®—æ³•                # dynamic ranking
```

### æ—¥å¿—è§„èŒƒ
```python
import logging

# æ—¥å¿—çº§åˆ«
logging.INFO    # ç³»ç»Ÿè¿è¡Œä¿¡æ¯
logging.DEBUG   # è¯¦ç»†è°ƒè¯•ä¿¡æ¯  
logging.WARNING # è­¦å‘Šä¿¡æ¯
logging.ERROR   # é”™è¯¯ä¿¡æ¯

# æ—¥å¿—æ ¼å¼
'%(asctime)s - %(levelname)s - %(message)s'
```

### é”™è¯¯å¤„ç†
```python
try:
    # ä¸šåŠ¡é€»è¾‘
    pass
except Exception as e:
    logger.error(f"é”™è¯¯æè¿°: {e}")
    return {"success": False, "error": str(e)}
```

## ğŸ” è°ƒè¯•æŒ‡å—

### å¸¸ç”¨è°ƒè¯•å‘½ä»¤
```bash
# æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
curl http://localhost:5000/api/health

# æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡
curl http://localhost:5000/api/stats

# æµ‹è¯•æ¨èAPI
curl -X POST http://localhost:5000/api/recommend \
  -H "Content-Type: application/json" \
  -d '{"product_description":"test product","budget":10000}'
```

### æ€§èƒ½ç›‘æ§
```python
# æŸ¥è¯¢æ—¶é—´ç›‘æ§
import time
start_time = time.time()
# ... ä¸šåŠ¡é€»è¾‘ ...
processing_time = time.time() - start_time

# å†…å­˜ä½¿ç”¨ç›‘æ§
import psutil
memory_usage = psutil.Process().memory_info().rss / 1024 / 1024  # MB
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

**å¼€å‘è€…**: åŒ—äº¬å¤œç¾Šç§‘æŠ€æœ‰é™å…¬å¸ 
**æŠ€æœ¯æ ˆ**: Python + Flask + scikit-learn  
**ç‰ˆæœ¬**: v2.0.0  
**æœ€åæ›´æ–°**: 2025-05-31

**é—®é¢˜åé¦ˆ**: é€šè¿‡ç³»ç»Ÿæ—¥å¿—å®šä½é—®é¢˜ï¼Œæ£€æŸ¥æ•°æ®æ–‡ä»¶å®Œæ•´æ€§ï¼Œç¡®è®¤ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§ 